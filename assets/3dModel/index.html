<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      body {
        width: 100vw;
        height: 100vh;
        margin: 0;
        overflow: hidden;
      }
    </style>
  </head>
  <body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r124/three.min.js"></script>
    <script src="https://unpkg.com/three@0.126.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>
    <script type="module">
      // Created using a tutorial from Redstapler
      // GLTF 3D Model from Shaw Pen https://codepen.io/shshaw/pen/yPPOEg

      // Three JS needs mainly below three things

      /* //////////////////////////////////////// */

      // SCENE
      var scene = new THREE.Scene();
      scene.background = new THREE.Color(0x000000);

      /* //////////////////////////////////////// */

      // CAMERA
      var camera = new THREE.PerspectiveCamera(
        80,
        window.innerWidth / window.innerHeight,
        1,
        800
      );
      camera.position.set(0, 0, 3);

      /* ////////////////////////////////////////// */

      // RENDERER
      var renderer = new THREE.WebGLRenderer({ antialias: true });
      renderer.setSize(window.innerWidth, window.innerHeight);

      // Append canvas to the body
      document.body.appendChild(renderer.domElement);

      /* ////////////////////////////////////////// */

      // Camera Rotation Control
      var controls = new THREE.OrbitControls(camera, renderer.domElement);

      controls.rotateSpeed = 0.3;
      controls.zoomSpeed = 0.9;

      controls.minDistance = 3;
      controls.maxDistance = 20;

      controls.minPolarAngle = 0; // radians
      controls.maxPolarAngle = Math.PI / 2; // radians

      controls.enableDamping = true;
      controls.dampingFactor = 0.05;

      controls.autoRotate = true;

      /* /////////////////////////////////////////////// */

      // Point Light
      var light = new THREE.PointLight(0xffffcc, 20, 200);
      light.position.set(4, 30, -20);
      scene.add(light);

      var light2 = new THREE.AmbientLight(0x20202a, 20, 100);
      light2.position.set(30, -10, 30);
      scene.add(light2);

      /* ////////////////////////////////////////// */

      // GLTF Loader to Load and manipulate 3D Models
      var loader = new THREE.GLTFLoader();

      loader.crossOrigin = true;

      loader.load("./scene.gltf", function (data) {
        var object = data.scene;
        object.position.set(0, 0, 0);
        // object.scale.set(0.5,0.5,0.5);
        scene.add(object);
      });

      /* //////////////////////////////////////// */

      // Render animation on every rendering phase
      function render() {
        requestAnimationFrame(render);
        renderer.render(scene, camera); // Render Scene and Camera
        controls.update(); // For Orbit Controller
      }

      render();

      /*////////////////////////////////////////*/

      // Update Camera Aspect Ratio and Renderer ScreenSize on Window resize
      window.addEventListener(
        "resize",
        function () {
          camera.aspect = window.innerWidth / window.innerHeight;
          camera.updateProjectionMatrix();
          renderer.setSize(window.innerWidth, window.innerHeight);
        },
        false
      );

      /*////////////////////////////////////////*/
    </script>
  </body>
</html>
